<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rounded Island UI</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            /* 调整为偏紫色的背景以符合图片氛围 */
            --glass-bg: linear-gradient(180deg, rgba(255, 255, 255, 0.75) 0%, rgba(245, 247, 250, 0.65) 100%);
            --glass-border: rgba(255, 255, 255, 0.8);
            --content-color: #3e4452; 
            --toggle-size: 110px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            height: 100vh;
            /* 偏紫调的梦幻背景，模拟图片中的氛围 */
            background: linear-gradient(120deg, #d3dceb, #e6dff0, #dccedf);
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
            overflow: hidden;
        }

        /* 
           =========================
           1. 控制/布局容器 - 动画保持不变
           =========================
        */
        .fixed-nav-wrapper {
            position: fixed;
            top: 0; width: 100%;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            align-items: center;
            /* 保持原逻辑：隐藏时上移 */
            transform: translateY(-90px); 
            transition: transform 0.6s cubic-bezier(0.22, 1, 0.36, 1);
        }

        .fixed-nav-wrapper.expanded {
            transform: translateY(15px); /* 下拉后 slight margin top 创建悬浮感 */
        }

        /* 材质基类 */
        .liquid-glass {
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.15); 
        }
        
        /* 
           =========================
           2. 顶部圆角矩形条 (大幅修改处)
           =========================
        */
        .top-bar {
            /* 核心：变成根据图片样式的圆角长条 */
            width: 95%; max-width: 1200px;
            height: 86px; /* 稍微加高以容纳文字注释 */
            border-radius: 20px; 
            background: var(--glass-bg);
            border: 1px solid rgba(255, 255, 255, 0.8);
            
            padding: 0 30px;
            display: flex;
            align-items: center;
            justify-content: space-between; 
            z-index: 2;
        }

        /* 三个区域的布局 (Flex) */
        .nav-section {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .nav-section.center {  justify-content: center; flex:1; gap: 30px; }
        .nav-section.left { gap: 15px; }
        .nav-section.right { gap: 20px; }


        /* 
           ===== 新的按钮组件样式 (The Pill & Circles) ===== 
           模拟图片风格：上方图标/Container，下方文字
        */

        /* 通用项布局：垂直堆叠 */
        .menu-item-stack {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 6px; 
            cursor: pointer;
            opacity: 0; /* 用于动画初始状态 */
            transform: translateY(-20px);
            transition: all 0.3s ease;
            position: relative;
        }

        /* 标签文字 - 图片下偏灰的小字 */
        .item-label {
            font-size: 11px;
            color: #555;
            font-weight: 500;
            letter-spacing: 0.5px;
            white-space: nowrap;
        }

        /* --- 左侧长条组容器 (White Container) --- */
        .left-pill-group {
            background: rgba(255,255,255,0.45);
            /* 内嵌式阴影 增加层次 */
            box-shadow: inset 0 0 0 1px rgba(255,255,255,0.6); 
            border-radius: 40px;
            padding: 8px 18px 4px 18px; /* 下方留给文字 */
            display: flex;
            gap: 25px;
            align-items: flex-start;
            height: 70px; /* 定高 */
        }

        /* 左侧组单纯的图标样式 (无背景，直接黑线) */
        .icon-minimal {
            font-size: 20px;
            color: #333;
            height: 32px;
            width: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.2s;
        }
        .menu-item-stack:hover .icon-minimal { transform: scale(1.15); color: #000; }


        /* --- 中间圆形组 (Floating Circles) --- */
        /* 白底圆圈 */
        .circle-icon-box {
            width: 44px; height: 44px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            color: #444;
            box-shadow: 0 4px 10px rgba(0,0,0,0.03); 
            transition: all 0.3s ease;
            border: 1px solid rgba(255,255,255,1);
        }
        .menu-item-stack:hover .circle-icon-box {
            background: #fff;
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.08); 
            color: #000;
        }


        /* --- 右侧特殊组 (Pill Btn & Avatar) --- */
        
        /* 圆长条按钮 (AI Chat) */
        .pill-btn-box {
            height: 40px;
            padding: 0 20px;
            background: #fff;
            border-radius: 30px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
            font-weight: 600;
            color: #333;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05); 
            border: 1px solid transparent;
            transition: all 0.3s;
        }
        .menu-item-stack:hover .pill-btn-box {    
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.1); 
        }

        /* 镂空的黑色GitHub圆形 */
        .github-style-box {
            display: flex;
            align-items: center; justify-content: center;
            font-size: 34px;
            color: #2b3137;
            background: rgba(255,255,255,0.7); /* 微背景让它与底下的文字有层次 */
            padding: 2px;
            border-radius: 50%;
            transition: transform 0.2s;
        }
        .menu-item-stack:hover .github-style-box { transform: scale(1.1); }

        /* 用户头像 */
        .avatar-box {
            width: 44px; height: 44px;
            border-radius: 50%;
            background-image: url('https://picsum.photos/id/64/200/200'); /* 示例头像 */
            background-size: cover; background-position: center;
            border: 2px solid #fff;
            position: relative;
        }
        /* 若有通知小蓝点 */
        .avatar-box::after {
            content:'';
            position:absolute; top:0; right:0; width:10px; height:10px;
            background:#7c8fff; border:1px solid #fff; border-radius:50%;
        }


        /* 
           ===== ANIMATION DELAYS (Reapplied) ===== 
           重新绑定动画逻辑：展开expanded时显示对每一组
        */
        .fixed-nav-wrapper.expanded .menu-item-stack         { opacity: 1; transform: translateY(0); }

        /* 左侧组 1-4 */
        .fixed-nav-wrapper.expanded .nav-section:nth-child(1) .menu-item-stack:nth-child(1) { transition: all 0.4s 0.05s ease; }
        .fixed-nav-wrapper.expanded .nav-section:nth-child(1) .menu-item-stack:nth-child(2) { transition: all 0.4s 0.10s ease; }
        .fixed-nav-wrapper.expanded .nav-section:nth-child(1) .menu-item-stack:nth-child(3) { transition: all 0.4s 0.15s ease; }
        .fixed-nav-wrapper.expanded .nav-section:nth-child(1) .menu-item-stack:nth-child(4) { transition: all 0.4s 0.20s ease; }

        /* 中间组 5-8 */
        .fixed-nav-wrapper.expanded .nav-section:nth-child(2) .menu-item-stack:nth-child(1) { transition: all 0.4s 0.25s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        .fixed-nav-wrapper.expanded .nav-section:nth-child(2) .menu-item-stack:nth-child(2) { transition: all 0.4s 0.30s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        .fixed-nav-wrapper.expanded .nav-section:nth-child(2) .menu-item-stack:nth-child(3) { transition: all 0.4s 0.35s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        .fixed-nav-wrapper.expanded .nav-section:nth-child(2) .menu-item-stack:nth-child(4) { transition: all 0.4s 0.40s cubic-bezier(0.175, 0.885, 0.32, 1.275); }

        /* 右侧组 9-11 */
        .fixed-nav-wrapper.expanded .nav-section:nth-child(3) .menu-item-stack:nth-child(1) { transition: all 0.4s 0.45s ease; }
        .fixed-nav-wrapper.expanded .nav-section:nth-child(3) .menu-item-stack:nth-child(2) { transition: all 0.4s 0.50s ease; }
        .fixed-nav-wrapper.expanded .nav-section:nth-child(3) .menu-item-stack:nth-child(3) { transition: all 0.4s 0.55s ease; }


        /* 
           =========================
           3. 底部梯形开关 (Switch Toggle)
           =========================
        */
        .toggle-tab {
            width: 140px; /* 稍微加宽一点视觉平衡 */
            height: 32px; /* 变扁平一些适配现在的圆角 Bar */
            
            /* 接缝处理：对齐圆角 */
            border-bottom-left-radius: 12px;
            border-bottom-right-radius: 12px;
            margin-top: -1px; /* 消除接缝线 */
            
            background: rgba(255, 255, 255, 0.65); /* 略微不那么透明以隐藏连接 */
            backdrop-filter: blur(16px);
            
            /* 修正阴影匹配图片下方 */
            box-shadow: 0 10px 20px rgba(0,0,0,0.05);
            /* 注意：不需要物理倒梯形clip-path，原设计的简单圆角在中间看起来更好 */
           
            display: flex;
            cursor: pointer;
            justify-content: center;
            align-items: flex-end; /* 内容靠下 */
            padding-bottom: 8px;
            transition: all 0.3s;
            z-index: 1001;
        }

        .toggle-tab:hover {
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            background: rgba(255, 255, 255, 0.8);
        }

        /* 内部开关元素 */
        .switch-content {
            position: relative;
            width: 60px; height: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .bar-line {
            position: absolute;
            background: var(--content-color);
            height: 2px; 
            width: 24px; 
            border-radius: 2px;
            transition: all 0.5s cubic-bezier(0.68, -0.6, 0.32, 1.6);
        }
        .bar-line.top { transform: translateY(-7px); }
        .bar-line.bottom { transform: translateY(7px); }

        /* 主体 "MENU" 文字消失动画 (保留自原代码) */
        .menu-label-text {
            font-size: 10px; font-weight:800; color:var(--content-color); letter-spacing:1px;
            transition: 0.3s;
        }

        /* 激活状态交互 (保持不变) */
        .fixed-nav-wrapper.expanded .bar-line.top {
            transform: translateY(0) rotate(135deg); 
            background-color: #555; width: 20px;
        }
        .fixed-nav-wrapper.expanded .bar-line.bottom {
            transform: translateY(0) rotate(-135deg);
            background-color: #555; width: 20px;
        }
        .fixed-nav-wrapper.expanded .menu-label-text {
            transform: scale(0.6); opacity: 0; filter: blur(2px);
        }
        
        /* 处理点击区域扩充的小技巧 */
        .toggle-wrapper {
             /* 将bar 和 toggle包裹在一起做布局 */
             width: 100%; display:flex; flex-direction:column; align-items:center;
        }

    </style>
</head>
<body>

    <!-- Structure Wrapper -->
    <nav class="fixed-nav-wrapper" id="navSys">
        
        <!-- Part 1: Bar -->
        <div class="top-bar liquid-glass">
            
            <!-- GROUP 1: LEFT BUTTONS (Inside slightly shaded pillow) -->
            <!-- 对应图片左侧：白色光胶囊包裹 "主页 博客 轻应用 AI酒馆" -->
            <div class="nav-section left">
                <div class="left-pill-group">
                    <!-- Item -->
                    <div class="menu-item-stack">
                        <div class="icon-minimal"><i class="fas fa-home"></i></div>
                        <span class="item-label">主页</span>
                    </div>
                    <!-- Item -->
                    <div class="menu-item-stack">
                        <div class="icon-minimal"><i class="far fa-file-alt">,</i></div>
                        <span class="item-label">博客</span>
                    </div>
                    <!-- Item (Grid) -->
                    <div class="menu-item-stack">
                        <div class="icon-minimal"><i class="fas fa-th-large"></i></div>
                        <span class="item-label">轻应用</span>
                    </div>
                    <!-- Item (Chat bubble) -->
                    <div class="menu-item-stack">
                        <div class="icon-minimal"><i class="far fa-comment-dots"></i></div>
                        <span class="item-label">AI酒馆</span>
                    </div>
                </div>
            </div>

            <!-- GROUP 2: CENTER CIRCLES -->
            <!-- 对应图片中间：独立圆圈 "音乐 白噪音 变换图片 效能" -->
            <div class="nav-section center">
                <div class="menu-item-stack">
                    <div class="circle-icon-box"><i class="fas fa-music"></i></div>
                    <span class="item-label">音乐</span>
                </div>

                <div class="menu-item-stack">
                     <!-- 模拟声波图标 -->
                    <div class="circle-icon-box"><i class="fas fa-sliders-h" style="transform: rotate(90deg);"></i></div>
                    <span class="item-label">白噪音</span>
                </div>

                <div class="menu-item-stack">
                     <div class="circle-icon-box"><i class="far fa-image"></i></div>
                    <span class="item-label">变换图片</span>
                </div>
                
                <div class="menu-item-stack">
                    <div class="circle-icon-box"><i class="fas fa-wand-magic-sparkles"></i></div>
                    <span class="item-label">特效</span>
                </div>
            </div>

            <!-- GROUP 3: RIGHT ACTIONS -->
            <!-- 对应图片右侧：长条唤起, Github大标, 头像 -->
            <div class="nav-section right">
                
                <!-- Pill Button -->
                <div class="menu-item-stack">
                     <div class="pill-btn-box">
                         <i class="fas fa-robot"></i> 
                         <span>AI Chat</span>
                     </div>
                     <span class="item-label">唤起AI对话</span>
                </div>

                <!-- GitHub Circle -->
                <div class="menu-item-stack">
                    <!-- 使用 FontAwesome 的大号图标 -->
                     <div class="github-style-box">
                         <i class="fab fa-github"></i>
                     </div>
                     <span class="item-label">项目github</span>
                </div>

                <!-- Avatar -->
                <div class="menu-item-stack">
                     <div class="avatar-box"></div>
                     <span class="item-label">用户登录</span>
                </div>

            </div>

        </div>

        <!-- Part 2: Visual Toggle -->
        <div class="toggle-tab" onclick="toggleSwitch()">
             <div class="switch-content">
                <span class="bar-line top"></span>
                 <div class="menu-label-text">MENU</div>
                 <span class="bar-line bottom"></span>
             </div>
        </div>

    </nav>

    <!-- JS Logic Kept simple -->
    <script>
        function toggleSwitch() {
            const nav = document.getElementById('navSys');
            nav.classList.toggle('expanded');
        }
    </script>

</body>
</html>